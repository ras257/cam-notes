\documentclass[../main.tex]{subfiles}
\begin{document}
\chapter{Sets, Functions and Relations}
\section{Sets and Set Operations}
\begin{definition}[Set]
  A \textit{set} is a collection of mathematical objects. The order of the elements in the set is immaterial and elements are counted only once.
\end{definition}
\begin{example}
  $\R, \N, \{1, 5, 9\}, (-2, 3]$ are all examples of sets.
\end{example}
\begin{example}
  $\{1, 3, 7\} = \{1, 7, 3\}$ (as order is immaterial) and $\{3, 4, 4, 8\} = \{3, 4, 8\}$ (as elements are counted only once)
\end{example}
\begin{remark}[Notation]
  We write $x \in S$ if $x$ is in the set $S$ and $x \notin S$ if $x$ is not in the set $S$.
\end{remark}
Two sets are equal if they have the same elements.
That is $A = B$ if and only if:
\[
  \forall x, x \in A \iff x \in B
\]
\begin{definition}[Empty Set]
  The \textit{empty} set, denoted $\emptyset$ is the only set with no elements.
\end{definition}
\begin{definition}[Subset]
A set $B$ is a subset of a set $A$, written $B \subseteq A$, if every element of $B$ is an element of A.

$B$ is said to be a ``proper subset'' of $A$, written $B \subset A$, if $B \subseteq A$ and $B \neq A$.
\end{definition}
We can now say that $A = B$ if and only if:
\[
  A \subseteq B \land B \subseteq A
\]
If $A$ is a set and $P$ is a property of (some) elements of $A$, then we can write $\{x \in A: P(x)\}$ to mean the subset of $A$ comprising of those elements for which $P(x)$ holds.
\begin{example}
  $\{n \in \N : n \text{ is prime}\} = \{2, 3, 5, 7, 11, \ldots\}$
\end{example}
\begin{definition}[Union]
  If $A$ and $B$ are sets then their \textit{union}, $A \cup B = \{x: x \in A \text{ or } x \in B\}$.
\end{definition}
\begin{definition}[Intersection]
  If $A$ and $B$ are sets then their \textit{intersection}, $A \cap B = \{x: x \in A \text{ and } x \in B\}$.
\end{definition}
\begin{remark}[Remark]
  We can view intersection as a special case of subset selection:
  \[
    A \cap B = \{x \in A : x \in B\}
  \]
\end{remark}
\begin{definition}[Disjoint]
  If $A$ and $B$ are sets then they are \textit{disjoint} when $A \cap B = \emptyset$.
\end{definition}
\begin{definition}[Set Difference]
  If $A$ and $B$ are sets then the set difference of $A$ take $B$, $A \setminus B = \{x \in A: x \notin B\}$. 
\end{definition}
\begin{remark}[Note]
  Both the union and intersection are commutative and associative.

  The union is also distributive over the intersection:
  \[
    A \cup (B \cap C) = (A \cup B) \cap (A \cup C)
  \]
  and the intersection is distributive over the union:
  \[
    A \cap (B \cup C) = (A \cap B) \cup (A \cap C)
  \]
  Set difference also acts similarly to De Morgan's Law:
  \[
    (A \setminus (B \cap C)) = (A \setminus B) \cup (A \setminus C)
  \]
  \[
    (A \setminus (B \cup C)) = (A \setminus B) \cap (A \setminus C)
  \]
\end{remark}
To prove that $A \cap (B \cup C) = (A \cap B) \cup (A \cap C)$, we can show that both sides of the equation are subsets of each other:
\begin{proof}\par
  If $x \in A \cap (B \cup C)$ then $x \in A$ and $x \in B \cup C$, so $x \in A$ and ($x \in B$ or $x \in C$).
  \begin{proofcases}
    \begin{case}{$x \in B$}
      Then $x \in A \cap B$
    \end{case}
    \begin{case}{$x \in C$}
      Then $x \in A \cap C$
    \end{case}
  \end{proofcases}
  In either case $x \in (A \cap B) \cup (A \cap C)$

  Conversely, if $x \in (A \cap B) \cup (A \cap C)$ then $x \in A \cap B$ or $x \in A \cap C$.
  \begin{proofcases}
    \begin{case}{$x \in (A \cap B)$}
      Then $x \in A$ and $x \in B \cup C$
    \end{case}
    \begin{case}{$x \in (A \cap C)$}
      Then $x \in A$ and $x \in C \cup B$
    \end{case}
  \end{proofcases}
  In either case $x \in A \cap (B \cup C)$

  So $\text{LHS} \subseteq \text{RHS}$ and $\text{RHS} \subseteq \text{LHS}$, so $\text{LHS} = \text{RHS}$.
\end{proof}

\begin{remark}[Notation]
  If $A_1, A_2, A_3, \ldots$, then:
  \begin{align*}
    \bigcap_{n=0}^{\infty} A_n &= A_1 \cap A_2 \cap A_3 \cap \cdots \\
                               &= \{x: x \in A_n\;\forall n \in \N\}
  \end{align*}
  and
  \begin{align*}
    \bigcup_{n=0}^{\infty} A_n &= A_1 \cup A_2 \cup A_3 \cup \cdots \\
                               &= \{x: x \in A_n \text{ for some } n \in \N\}
  \end{align*}
  Warning! These are not the limit of something.

  More generally, given an index set $I$ and a collection of sets $A_i$ indexed by $i \in I$, we write:
  \[
    \bigcap_{i \in I}^{} = \{x: x \in A_i\;\forall i \in I\}
  \]
  \[
    \bigcup_{i \in I}^{} = \{x: x \in A_i \text{ for some } i \in I\}
  \]
\end{remark}
\begin{definition}[Cartesian Product]
  Given sets $A$ and $B$ we can form their \textit{Cartesian product}:
  \[
    A \times B = {(a, b): a \in A \text{ and } b \in B}
  \]
\end{definition}
The Cartesian product is the set of \textit{ordered pairs} $(a, b)$ with $a \in A, b \in B$.
\begin{remark}
From a set-theoretic perspective we could define $(a, b) = \{\{a, b\}, a\}$ where the non-set element indicates the first element of the set element.
\end{remark}

We can extend the Cartesian product to ordered triples and so on.
\begin{example}
  $\R^3 = \R \times \R \times \R = \{(x, y, z) : x, y, z \in \R\}$.
\end{example}
\begin{definition}[Power Set]
  For any set $X$, we can form the \textit{power set} $\powerset{S}$ consisting of all subsets of $X$.
  \[
    \powerset{X} = \{Y: Y \subseteq X\}
  \]
\end{definition}
\begin{example}
  $\powerset{\{1, 2\}} = \{ \emptyset, \{1\}, \{2\}, \{1, 2\}\}$
\end{example}
\begin{remark}[Warning]
  Given a set $A$, we can form $\{x \in A: P(x)\}$ for any property $P$.
  But we cannot form $\{x: P(x)\}$ because of Russell's Paradox. Suppose we consider the set:
  \[
    X = \{x: x \text{ is a set and } x \notin x\}
  \]
  If $X \in X \implies X \notin X$.
  On the other hand $X \notin X \implies X \in X$.
  So the construction of this set leads to a contradiction!
  Similarly, there is no ``universal set'' of objects $Y$, such that $\forall x$, $x \in Y$.
  Otherwise we could form $X$ by subset selection:
  \[
    X = \{x \in Y: x \notin x\}
  \]
  To guarantee that a set exists, it should be obtained from known sets (e.g. $\N$, $\R$, $\ldots$) in one of the ways previously discussed.
\end{remark}
\section{Finite Sets}
\begin{remark}[Notation]
We write $\N_0 = \N \cup \{0\} = \{0, 1, 2, 3, \ldots\}$.
\end{remark}
A set $A$ has size $n$ if we can write $A = \{a_1, a_2, \ldots, a_n\}$ with all the elements $a_i$ distinct.
\begin{definition}[Finite/Infinite Sets]
  A set $A$ is \textit{finite} if $\exists n \in \N_0$ such that $|A| = n$ and $A$ is \textit{infinite} otherwise.
\end{definition}
\section{Functions}
  Given sets $A$ and $B$ a \textit{function} $f$ from $A$ to $B$ is, informally, a ``rule'' that assigns to every $x \in A$ to a unique $f(x) \in B$.
\begin{definition}[Function]
  A \textit{function} from $A$ to $B$ is a subset $f \subseteq A \times B$ such that for all $x \in A$, there is a unique $y \in B$ such that $(x, y) \in f$
\end{definition}
\begin{remark}[Notation]
  If $f$ is a function from $A$ to $B$, we write:
  \[
    f: A \to B
  \]
  If $(x, y) \in f$, we can write:
  \[
    f(x) = y \text{ or } x \mapsto y
  \]
\end{remark}
\begin{example}
  Consider the following maps $f: \R \to \R$:
  \begin{enumerate}
    \item $x \mapsto x^2$ is a function.
    \item $x \mapsto 1/x$ is \textbf{not} a function as it is not well defined at $x = 0$.
    \item $x \mapsto \pm\sqrt{|x|}$ is \textbf{not} a function as there is not a unique output.
    \item $
        x \mapsto \begin{cases}
        1 & \text{ if } x \in \Q \\
        0 & \text{ otherwise }
        \end{cases}
        $ is a function.
  \end{enumerate}
\end{example}
\begin{definition}[Domain and Codomain]
  Given $f: A \to B$, we say $A$ is the \textit{domain} of $f$ and $B$ is its \textit{codomain} or \textit{range}.
\end{definition}
\begin{definition}[Image and Preimage]
  If $x \in A$ and $f(x) = y$ then $y$ is called the \textit{image} of $x$, and $x$ is called a \textit{preimage} of $y$.
\end{definition}
\begin{example}
  $f(x) = x^2$ then the image of $6$ under $f$ is $36$ but $36$ has the pre-images $6$ and $-6$.
\end{example}
If $X \subset A$ then the \textit{image} of the set $X$ under $f$ is:
\begin{align*}
  f(X) &= \{f(x): x \in X\} \\
       &= \{b \in B: f(x) = b \text{ for some } x \in X\}
\end{align*}
\end{document}
